<!-- Winter Wonderland Footer Component -->
<footer class="winter-footer" role="contentinfo">
    {% if theme.footer_is_dark %}
    <div class="winter-footer--dark">
    {% else %}
    <div class="winter-footer--light">
    {% endif %}
        
        <!-- Main Footer Content -->
        <div class="winter-footer__main">
            <div class="container">
                <div class="winter-footer__content">
                    
                    <!-- Store Info Section -->
                    <div class="winter-footer__section">
                        <div class="winter-footer__logo">
                            {% if store.logo %}
                                <img src="{{ store.logo }}" alt="{{ store.name }}" class="winter-footer__logo-image">
                            {% else %}
                                <h3 class="winter-footer__logo-text">{{ store.name }}</h3>
                            {% endif %}
                        </div>
                        
                        {% if store.description %}
                            <p class="winter-footer__description">{{ store.description }}</p>
                        {% endif %}
                        
                        <!-- Social Media Links -->
                        {% if store.social_media %}
                            <div class="winter-footer__social">
                                <h4 class="winter-footer__social-title">تابعنا على</h4>
                                <div class="winter-social-links">
                                    {% for social in store.social_media %}
                                        <a href="{{ social.url }}" class="winter-social-link" target="_blank" rel="noopener" aria-label="{{ social.name }}">
                                            <i class="sicon-{{ social.icon }}"></i>
                                        </a>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- Quick Links Section -->
                    <div class="winter-footer__section">
                        <h4 class="winter-footer__title">روابط سريعة</h4>
                        <ul class="winter-footer__links">
                            <li><a href="{{ link('home') }}" class="winter-footer__link">الرئيسية</a></li>
                            {% for category in categories|slice(0, 5) %}
                                <li><a href="{{ category.url }}" class="winter-footer__link">{{ category.name }}</a></li>
                            {% endfor %}
                            <li><a href="{{ link('offers') }}" class="winter-footer__link">العروض الخاصة</a></li>
                        </ul>
                    </div>
                    
                    <!-- Customer Service Section -->
                    <div class="winter-footer__section">
                        <h4 class="winter-footer__title">خدمة العملاء</h4>
                        <ul class="winter-footer__links">
                            {% for page in pages %}
                                <li><a href="{{ page.url }}" class="winter-footer__link">{{ page.title }}</a></li>
                            {% endfor %}
                            <li><a href="{{ link('contact') }}" class="winter-footer__link">اتصل بنا</a></li>
                            <li><a href="{{ link('faq') }}" class="winter-footer__link">الأسئلة الشائعة</a></li>
                        </ul>
                    </div>
                    
                    <!-- Contact Info Section -->
                    <div class="winter-footer__section">
                        <h4 class="winter-footer__title">معلومات التواصل</h4>
                        <div class="winter-footer__contact">
                            {% if store.mobile %}
                                <div class="winter-contact-item">
                                    <i class="sicon-phone"></i>
                                    <a href="tel:{{ store.mobile }}" class="winter-contact-link">{{ store.mobile }}</a>
                                </div>
                            {% endif %}
                            
                            {% if store.email %}
                                <div class="winter-contact-item">
                                    <i class="sicon-envelope"></i>
                                    <a href="mailto:{{ store.email }}" class="winter-contact-link">{{ store.email }}</a>
                                </div>
                            {% endif %}
                            
                            {% if store.address %}
                                <div class="winter-contact-item">
                                    <i class="sicon-location"></i>
                                    <span class="winter-contact-text">{{ store.address }}</span>
                                </div>
                            {% endif %}
                        </div>
                        
                        <!-- Newsletter Signup -->
                        <div class="winter-newsletter">
                            <h5 class="winter-newsletter__title">اشترك في النشرة البريدية</h5>
                            <form class="winter-newsletter__form" action="{{ link('newsletter.subscribe') }}" method="POST">
                                <div class="winter-newsletter__input-group">
                                    <input type="email" name="email" placeholder="البريد الإلكتروني" class="winter-newsletter__input" required>
                                    <button type="submit" class="winter-newsletter__button">
                                        <i class="sicon-paper-plane"></i>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        
        <!-- Footer Bottom -->
        <div class="winter-footer__bottom">
            <div class="container">
                <div class="winter-footer__bottom-content">
                    
                    <!-- Copyright -->
                    <div class="winter-footer__copyright">
                        <p>&copy; {{ "now"|date("Y") }} {{ store.name }}. جميع الحقوق محفوظة.</p>
                        <p class="winter-footer__powered">
                            مدعوم بـ 
                            <a href="https://salla.com" target="_blank" rel="noopener" class="winter-footer__salla-link">
                                <strong>سلة</strong>
            </a>
                            | ثيم عجائب الشتاء ❄️
                        </p>
                    </div>
                    
                    <!-- Payment Methods -->
                    {% if store.payment_methods %}
                        <div class="winter-footer__payments">
                            <span class="winter-payments__title">طرق الدفع المتاحة:</span>
                            <div class="winter-payments__methods">
                                {% for payment in store.payment_methods %}
                                    <img src="{{ payment.logo }}" alt="{{ payment.name }}" class="winter-payment-logo">
                                {% endfor %}
                            </div>
                        </div>
                    {% endif %}
                    
                </div>
            </div>
        </div>
        
        <!-- Winter Footer Decoration -->
        <div class="winter-footer__decoration" aria-hidden="true">
            <div class="winter-footer__snowflakes">
                {% for i in 1..15 %}
                    <div class="winter-footer-snowflake winter-footer-snowflake--{{ i }}">❄️</div>
                {% endfor %}
            </div>
        </div>
        
    </div>
</footer>

<!-- Footer Styles -->
<style>
/* Winter Footer Styles */
.winter-footer {
    margin-top: auto;
    position: relative;
    overflow: hidden;
}

.winter-footer--dark {
    background: var(--winter-gradient-primary);
    color: var(--winter-snow-white);
}

.winter-footer--light {
    background: var(--winter-cream);
    color: var(--winter-dark-green);
}

.winter-footer__main {
    padding: 4rem 0 2rem;
    position: relative;
    z-index: 2;
}

.winter-footer__content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 3rem;
}

.winter-footer__section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

/* Footer Logo */
.winter-footer__logo-image {
    height: 60px;
    width: auto;
    filter: brightness(0) invert(1);
}

.winter-footer--light .winter-footer__logo-image {
    filter: none;
}

.winter-footer__logo-text {
    font-family: var(--winter-font-heading);
    font-size: 2rem;
    font-weight: 700;
    margin: 0;
    color: inherit;
}

.winter-footer__description {
    line-height: 1.6;
    opacity: 0.9;
    margin: 0;
}

/* Footer Titles */
.winter-footer__title {
    font-family: var(--winter-font-heading);
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0 0 1rem 0;
    color: var(--winter-gold);
    position: relative;
    
    &::after {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 0;
        width: 40px;
        height: 2px;
        background: var(--winter-gold);
        border-radius: 1px;
    }
}

/* Footer Links */
.winter-footer__links {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.winter-footer__link {
    color: inherit;
    text-decoration: none;
    opacity: 0.8;
    transition: all var(--winter-transition-fast);
    position: relative;
    padding-left: 1rem;
    
    &::before {
        content: '❄️';
        position: absolute;
        left: 0;
        opacity: 0;
        transform: translateX(-10px);
        transition: all var(--winter-transition-fast);
        font-size: 0.8rem;
    }
    
    &:hover {
        opacity: 1;
        color: var(--winter-gold);
        padding-left: 1.5rem;
        
        &::before {
            opacity: 1;
            transform: translateX(0);
        }
    }
}

/* Social Media Links */
.winter-footer__social-title {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 0.5rem 0;
    color: var(--winter-gold);
}

.winter-social-links {
    display: flex;
    gap: 1rem;
}

.winter-social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: rgba(255, 215, 0, 0.1);
    color: var(--winter-gold);
    border-radius: 50%;
    text-decoration: none;
    font-size: 1.25rem;
    transition: all var(--winter-transition-normal);
    
    &:hover {
        background: var(--winter-gold);
        color: var(--winter-deep-red);
        transform: translateY(-3px) scale(1.1);
        box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
    }
}

/* Contact Info */
.winter-footer__contact {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.winter-contact-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    
    i {
        color: var(--winter-gold);
        font-size: 1.125rem;
        width: 20px;
        text-align: center;
    }
}

.winter-contact-link {
    color: inherit;
    text-decoration: none;
    opacity: 0.9;
    transition: all var(--winter-transition-fast);
    
    &:hover {
        opacity: 1;
        color: var(--winter-gold);
    }
}

.winter-contact-text {
    opacity: 0.9;
    line-height: 1.4;
}

/* Newsletter */
.winter-newsletter {
    margin-top: 1.5rem;
}

.winter-newsletter__title {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 1rem 0;
    color: var(--winter-gold);
}

.winter-newsletter__input-group {
    display: flex;
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--winter-radius-full);
    overflow: hidden;
    border: 1px solid rgba(255, 215, 0, 0.3);
    transition: all var(--winter-transition-normal);
    
    &:focus-within {
        border-color: var(--winter-gold);
        box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.2);
    }
}

.winter-newsletter__input {
    flex: 1;
    padding: 0.75rem 1rem;
    border: none;
    background: transparent;
    color: inherit;
    font-size: 0.875rem;
    
    &::placeholder {
        color: rgba(255, 255, 255, 0.6);
    }
    
    &:focus {
        outline: none;
    }
}

.winter-footer--light .winter-newsletter__input::placeholder {
    color: rgba(15, 76, 58, 0.6);
}

.winter-newsletter__button {
    padding: 0.75rem 1rem;
    background: var(--winter-gold);
    border: none;
    color: var(--winter-deep-red);
    cursor: pointer;
    font-size: 1rem;
    transition: all var(--winter-transition-normal);
    
    &:hover {
        background: var(--winter-light-gold);
        transform: scale(1.05);
    }
}

/* Footer Bottom */
.winter-footer__bottom {
    padding: 1.5rem 0;
    border-top: 1px solid rgba(255, 215, 0, 0.2);
    background: rgba(0, 0, 0, 0.1);
}

.winter-footer__bottom-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.winter-footer__copyright {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    
    p {
        margin: 0;
        font-size: 0.875rem;
        opacity: 0.8;
    }
}

.winter-footer__powered {
    font-size: 0.8rem !important;
}

.winter-footer__salla-link {
    color: var(--winter-gold);
    text-decoration: none;
    
    &:hover {
        text-decoration: underline;
    }
}

/* Payment Methods */
.winter-footer__payments {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.winter-payments__title {
    font-size: 0.875rem;
    opacity: 0.8;
}

.winter-payments__methods {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.winter-payment-logo {
    height: 30px;
    width: auto;
    background: var(--winter-snow-white);
    padding: 4px;
    border-radius: var(--winter-radius-sm);
    opacity: 0.8;
    transition: opacity var(--winter-transition-fast);
    
    &:hover {
        opacity: 1;
    }
}

/* Footer Decoration */
.winter-footer__decoration {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    overflow: hidden;
    z-index: 1;
}

.winter-footer__snowflakes {
    position: relative;
    width: 100%;
    height: 100%;
}

.winter-footer-snowflake {
    position: absolute;
    color: rgba(255, 215, 0, 0.3);
    font-size: 1rem;
    animation: winterFooterFloat 8s infinite linear;
    opacity: 0.5;
}

@for $i from 1 through 15 {
    .winter-footer-snowflake--#{$i} {
        left: #{random(100)}%;
        animation-delay: #{random(8000)}ms;
        animation-duration: #{6000 + random(4000)}ms;
        font-size: #{0.8 + (random(6) / 10)}rem;
    }
}

@keyframes winterFooterFloat {
    0% {
        transform: translateY(100%) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.5;
    }
    90% {
        opacity: 0.5;
    }
    100% {
        transform: translateY(-20px) rotate(360deg);
        opacity: 0;
    }
}

/* Responsive Design */
@media (max-width: 1024px) {
    .winter-footer__content {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .winter-footer__main {
        padding: 3rem 0 1.5rem;
    }
    
    .winter-footer__content {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .winter-footer__bottom-content {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .winter-footer__payments {
        justify-content: center;
    }
    
    .winter-social-links {
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .winter-footer__main {
        padding: 2rem 0 1rem;
    }
    
    .winter-newsletter__input-group {
        flex-direction: column;
        border-radius: var(--winter-radius-md);
    }
    
    .winter-newsletter__button {
        border-radius: 0 0 var(--winter-radius-md) var(--winter-radius-md);
    }
    
    .winter-payments__methods {
        justify-content: center;
    }
}

/* RTL Support */
.rtl .winter-footer__link {
    padding-left: 0;
    padding-right: 1rem;
    
    &::before {
        left: auto;
        right: 0;
    }
    
    &:hover {
        padding-left: 0;
        padding-right: 1.5rem;
    }
}

.rtl .winter-footer__title::after {
    left: auto;
    right: 0;
}

/* Print Styles */
@media print {
    .winter-footer__decoration,
    .winter-social-links,
    .winter-newsletter {
        display: none !important;
    }
    
    .winter-footer {
        background: white !important;
        color: black !important;
    }
}
</style>
</footer>
